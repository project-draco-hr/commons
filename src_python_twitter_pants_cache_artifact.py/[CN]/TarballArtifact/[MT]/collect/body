def collect(self, paths):
    mode = ('w:gz' if self._compress else 'w')
    with open_tar(self._tarfile, mode, dereference=True, errorlevel=2) as tarout:
        for path in paths:
            relpath = os.path.relpath(path, self._artifact_root)
            tarout.add(path, relpath)
            self._relpaths.add(relpath)
