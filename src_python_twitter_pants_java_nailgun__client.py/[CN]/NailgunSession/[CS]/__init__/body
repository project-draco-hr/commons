def __init__(self, sock, ins, out, err):
    self._sock = sock
    self._send_chunk = partial(_send_chunk, sock)
    self._input_reader = (NailgunSession._InputReader(ins, self._sock) if ins else None)
    self._out = out
    self._err = err
