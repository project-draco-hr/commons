def __init__(self, context):
    Task.__init__(self, context)
    self.confs = context.config.getlist('junit-run', 'confs')
    self.profile = context.config.get('junit-run', 'profile')
    self.java_args = context.config.getlist('junit-run', 'args', default=[])
    if context.options.junit_run_jvmargs:
        self.java_args.extend(context.options.junit_run_jvmargs)
    if context.options.junit_run_debug:
        self.java_args.extend(context.config.getlist('jvm', 'debug_args'))
    self.test_classes = context.options.junit_run_tests
    self.context.products.require('classes')
    self.outdir = (context.options.junit_run_outdir or context.config.get('junit-run', 'workdir'))
    self.flags = []
    if (context.options.junit_run_xmlreport or context.options.junit_run_suppress_output):
        if context.options.junit_run_xmlreport:
            self.flags.append('-xmlreport')
        self.flags.append('-suppress-output')
        self.flags.append('-outdir')
        self.flags.append(self.outdir)
