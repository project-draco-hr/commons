def test_deprecated_logs_warning(self):
    "Tests that defining @deprecated doesn't log as well."
    assert (self._log_handler.records() == [])

    @deprecated
    def chips_ahoy():
        pass
    assert (self._log_handler.records() == [])
    chips_ahoy()
    records = self._log_handler.records()
    assert (len(records) == 1)
    assert records[0].startswith('DEPRECATION WARNING:')
