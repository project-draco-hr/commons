def test_reflogentry(self):
    nullhexsha = IndexObject.NULL_HEX_SHA
    hexsha = ('F' * 40)
    actor = Actor('name', 'email')
    msg = 'message'
    self.failUnlessRaises(ValueError, RefLogEntry.new, nullhexsha, hexsha, 'noactor', 0, 0, '')
    e = RefLogEntry.new(nullhexsha, hexsha, actor, 0, 1, msg)
    assert (e.oldhexsha == nullhexsha)
    assert (e.newhexsha == hexsha)
    assert (e.actor == actor)
    assert (e.time[0] == 0)
    assert (e.time[1] == 1)
    assert (e.message == msg)
    assert repr(e).startswith(nullhexsha)
