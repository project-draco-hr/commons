def __init__(self, context):
    ConsoleTask.__init__(self, context)
    self._print_uptodate = context.options.check_deps_print_uptodate
    self.repos = context.config.getdict('jar-publish', 'repos')
    self._artifacts_to_targets = {}
    all_addresses = (address for buildfile in BuildFile.scan_buildfiles(get_buildroot()) for address in Target.get_all_addresses(buildfile))
    for address in all_addresses:
        target = Target.get(address)
        if target.is_exported:
            (provided_jar, _, _) = target.get_artifact_info()
            artifact = (provided_jar.org, provided_jar.name)
            if (not (artifact in self._artifacts_to_targets)):
                self._artifacts_to_targets[artifact] = target
