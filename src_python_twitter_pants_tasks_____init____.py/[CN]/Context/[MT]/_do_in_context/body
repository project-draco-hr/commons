def _do_in_context(self, work, path=None):
    build_dir = (path or self.config.getdefault('pants_workdir'))
    build_path = os.path.join(build_dir, 'BUILD.pants')
    if (not os.path.exists(build_path)):
        with safe_open(build_path, 'w') as build_file:
            build_file.write('# dummy BUILD file generated by pants\n')
    return ParseContext(BuildFile(get_buildroot(), build_path)).do_in_context(work)
