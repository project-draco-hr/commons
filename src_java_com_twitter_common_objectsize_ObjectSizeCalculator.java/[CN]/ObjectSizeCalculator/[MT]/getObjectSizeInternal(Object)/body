{
  for (; ; ) {
    visit(obj);
    if (pending.isEmpty()) {
      return size;
    }
    obj=pending.removeFirst();
  }
}
