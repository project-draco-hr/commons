{
  /** 
 * Datatype representing an individual test method.
 */
class TestMethod {
    private final Class<?> clazz;
    private final String name;
    TestMethod(    Class<?> clazz,    String name){
      this.clazz=clazz;
      this.name=name;
    }
  }
  Set<TestMethod> testMethods=Sets.newLinkedHashSet();
  Set<Class<?>> classes=Sets.newLinkedHashSet();
  for (  String spec : specs) {
    Matcher matcher=METHOD_PARSER.matcher(spec);
    try {
      if (matcher.matches()) {
        Class<?> testClass=loadClass(matcher.group(1));
        if (isTest(testClass)) {
          String method=matcher.group(2);
          testMethods.add(new TestMethod(testClass,method));
        }
      }
 else {
        Class<?> testClass=loadClass(spec);
        if (isTest(testClass)) {
          classes.add(testClass);
        }
      }
    }
 catch (    NoClassDefFoundError e) {
      notFoundError(spec,out,e);
    }
catch (    ClassNotFoundException e) {
      notFoundError(spec,out,e);
    }
catch (    LinkageError e) {
      notFoundError(spec,out,e);
    }
catch (    RuntimeException e) {
      notFoundError(spec,out,e);
    }
  }
  List<Request> requests=Lists.newArrayList();
  if (!classes.isEmpty()) {
    if (this.perTestTimer || this.parallelThreads > 1) {
      for (      Class<?> clazz : classes) {
        requests.add(new AnnotatedClassRequest(clazz));
      }
    }
 else {
      requests.add(Request.classes(classes.toArray(new Class<?>[classes.size()])));
    }
  }
  for (  TestMethod testMethod : testMethods) {
    requests.add(new AnnotatedClassRequest(testMethod.clazz).filterWith(Description.createTestDescription(testMethod.clazz,testMethod.name)));
  }
  return requests;
}
