def __init__(self, context, output_dir=None, confs=None):
    Task.__init__(self, context)
    self._output_dir = (output_dir or context.options.jar_create_outdir or context.config.get('jar-create', 'workdir'))
    self.transitive = context.options.jar_create_transitive
    self.confs = (confs or context.config.getlist('jar-create', 'confs'))
    self.compression = (ZIP_DEFLATED if context.options.jar_create_compressed else ZIP_STORED)
    self.jar_classes = (context.options.jar_create_classes or context.products.isrequired('jars'))
    if self.jar_classes:
        self.context.products.require('classes')
    self.jar_sources = (context.options.jar_create_sources or context.products.isrequired('source_jars'))
    self.jar_javadoc = (context.options.jar_create_javadoc or context.products.isrequired('javadoc_jars'))
    if self.jar_javadoc:
        context.products.require('javadoc')
