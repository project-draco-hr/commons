def __init__(self, context):
    Task.__init__(self, context)
    options = context.options
    products = context.products
    self._output_dir = (options.jar_create_outdir or context.config.get('jar-create', 'workdir'))
    self.transitive = options.jar_create_transitive
    self.confs = context.config.getlist('jar-create', 'confs')
    self.compression = (ZIP_DEFLATED if options.jar_create_compressed else ZIP_STORED)
    self.jar_classes = (options.jar_create_classes or products.isrequired('jars'))
    if self.jar_classes:
        products.require('classes')
    self.jar_javadoc = (products.isrequired('javadoc_jars') or options.jar_create_javadoc)
    if self.jar_javadoc:
        products.require('javadoc')
    self.jar_sources = (products.isrequired('source_jars') or options.jar_create_sources)
    self._jars = {}
