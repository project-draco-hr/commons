def javadocjar(self, java_targets, genmap, add_genjar):
    for target in java_targets:
        generated = genmap.get(target)
        if generated:
            jar_name = jarname(target, '-javadoc.jar')
            add_genjar(target, jar_name)
            jar_path = os.path.join(self._output_dir, jar_name)
            with self.create_jar(target, jar_path) as jar:
                for (basedir, javadocfiles) in generated.items():
                    for javadocfile in javadocfiles:
                        jar.write(os.path.join(basedir, javadocfile), javadocfile)
