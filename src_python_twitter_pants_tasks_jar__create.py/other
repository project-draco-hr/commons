import functools
import os
from contextlib import contextmanager
from zipfile import ZIP_STORED, ZIP_DEFLATED
from twitter.common.dirutil import safe_mkdir
from twitter.pants.base.build_environment import get_buildroot
from twitter.pants.java import open_jar
from twitter.pants.tasks import Task, TaskError
