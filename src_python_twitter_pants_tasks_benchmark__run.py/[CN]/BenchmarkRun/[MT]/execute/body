def execute(self, targets):
    agent_tools_classpath = self._bootstrap_utils.get_jvm_build_tools_classpath(self._agent_bootstrap_key)
    agent_jar = agent_tools_classpath[0]
    allocation_jar = os.path.join(os.path.dirname(agent_jar), 'allocation.jar')
    shutil.copyfile(agent_jar, allocation_jar)
    os.environ['ALLOCATION_JAR'] = str(allocation_jar)
    benchmark_tools_classpath = self._bootstrap_utils.get_jvm_build_tools_classpath(self._benchmark_bootstrap_key)
    exit_code = runjava_indivisible(jvm_options=self.jvm_options, classpath=self.classpath(benchmark_tools_classpath), main='com.google.caliper.Runner', args=self.caliper_args, workunit_name='caliper')
    if (exit_code != 0):
        raise TaskError()
