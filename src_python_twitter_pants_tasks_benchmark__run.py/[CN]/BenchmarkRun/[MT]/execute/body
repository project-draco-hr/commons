def execute(self, targets):
    agent_tools_classpath = self._jvm_tool_bootstrapper.get_jvm_tool_classpath(self._agent_bootstrap_key)
    agent_jar = agent_tools_classpath[0]
    allocation_jar = os.path.join(os.path.dirname(agent_jar), 'allocation.jar')
    shutil.copyfile(agent_jar, allocation_jar)
    os.environ['ALLOCATION_JAR'] = str(allocation_jar)
    benchmark_tools_classpath = self._jvm_tool_bootstrapper.get_jvm_tool_classpath(self._benchmark_bootstrap_key)
    caliper_main = 'com.google.caliper.Runner'
    exit_code = runjava(self.classpath(benchmark_tools_classpath), caliper_main, args=self.caliper_args, jvm_args=self.jvm_args, workunit_name='caliper')
    if (exit_code != 0):
        raise TaskError(('java %s ... exited non-zero (%i)' % (caliper_main, exit_code)))
