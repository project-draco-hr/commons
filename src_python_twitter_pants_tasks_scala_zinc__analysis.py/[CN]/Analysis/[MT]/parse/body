@staticmethod
def parse(infile):
    lines_iter = iter(infile.read().splitlines())
    version_line = lines_iter.next()
    if (version_line != 'format version: 1'):
        raise Exception(('Unrecognized format line: ' + version_line))
    relations = Relations.parse(lines_iter)
    stamps = Stamps.parse(lines_iter)
    apis = APIs.parse(lines_iter)
    source_infos = SourceInfos.parse(lines_iter)
    compilations = Compilations.parse(lines_iter)
    compile_setup = CompileSetup.parse(lines_iter)
    return Analysis(relations, stamps, apis, source_infos, compilations, compile_setup)
