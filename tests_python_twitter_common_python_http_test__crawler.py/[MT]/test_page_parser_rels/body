def test_page_parser_rels():
    VALID_RELS = tuple(PageParser.REL_TYPES)
    for rel in (VALID_RELS + ('', ' ', 'blah')):
        for (start, end) in (('', ''), ('"', '"'), ("'", "'")):
            target = ('rel=%s%s%s' % (start, rel, end))
            (links, rels) = lpp(("<a href='things' %s> <a href='stuff'>" % target))
            assert (links == ['things', 'stuff'])
            if (rel in VALID_RELS):
                assert (rels == ['things'])
            else:
                assert (rels == [])
            (links, rels) = lpp(("<a href='stuff' %s> <a href='things'>" % target))
            assert (links == ['stuff', 'things'])
            if (rel in VALID_RELS):
                assert (rels == ['stuff'])
            else:
                assert (rels == [])
