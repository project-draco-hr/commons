{
  Map<String,String> argumentMap=Maps.newHashMap(ArgScanner.mapArguments(args));
  ImmutableList.Builder<String> scanPackages=ImmutableList.<String>builder().add(AppLauncher.class.getPackage().getName());
  String argSpecifiedPackages=argumentMap.remove(SCAN_PACKAGES_ARG);
  if (argSpecifiedPackages != null) {
    @SuppressWarnings("unchecked") List<String> argScanPackages=(List<String>)SCAN_PACKAGES_PARSER.parse(new TypeLiteral<List<String>>(){
    }
.getType(),argSpecifiedPackages);
    scanPackages.addAll(argScanPackages);
  }
  LOG.info("Scanning arguments in packages: " + scanPackages);
  try {
    ArgScanner.parse(scanPackages.build(),argumentMap);
  }
 catch (  IllegalArgumentException e) {
    LOG.log(Level.SEVERE,"Failed to apply arguments:\n" + e.getMessage());
    System.exit(1);
  }
  new AppLauncher().run(APP_CLASS.get().newInstance());
}
