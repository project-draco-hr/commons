def test_chained_finder():

    def finder1(importer, path_item, only=False):
        for foo in ('foo', 'bar'):
            yield foo

    def finder2(importer, path_item, only=False):
        yield 'baz'
    cf = ChainedFinder([finder1])
    assert (list(cf(None, None)) == ['foo', 'bar'])
    cf = ChainedFinder([finder1, finder2])
    assert (list(cf(None, None)) == ['foo', 'bar', 'baz'])
