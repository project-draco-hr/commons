def _runner(self, jvm_args, classpath, main, args):
    command = self._create_command(jvm_args, classpath, main, args)


    class Runner(self.Runner):

        @property
        def executor(this):
            return self

        @property
        def cmd(this):
            return ' '.join(command)

        def run(this, stdout=sys.stdout, stderr=sys.stderr):
            nailgun = self._get_nailgun_client(jvm_args, classpath, stdout, stderr)
            try:
                log.debug(('Executing via %s: %s' % (nailgun, this.cmd)))
                return nailgun(main, *args)
            except nailgun.NailgunError as e:
                self.kill()
                raise self.Error(('Problem launching via %s command %s %s: %s' % (nailgun, main, ' '.join(args), e)))
    return Runner()
