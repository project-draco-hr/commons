def _calculate_sources(self, targets):
    sources = set()

    def collect_sources(target):
        if self.is_gentarget(target):
            sources.update(target.sources_relative_to_buildroot())
    for target in targets:
        target.walk(collect_sources)
    return sources
