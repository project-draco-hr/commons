def generate_ivysettings(self, publishedjars, publish_local=None):
    template = pkgutil.get_data(__name__, os.path.join('jar_publish', 'ivysettings.mk'))
    with safe_open(os.path.join(self.outdir, 'ivysettings.xml'), 'w') as wrapper:
        generator = Generator(template, ivysettings=self.ivysettings, dir=self.outdir, cachedir=self.cachedir, published=[TemplateData(org=jar.org, name=jar.name) for jar in publishedjars], publish_local=publish_local)
        generator.write(wrapper)
        return wrapper.name
