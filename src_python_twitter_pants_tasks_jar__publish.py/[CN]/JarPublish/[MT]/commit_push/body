def commit_push(self, org, name, rev, sha):
    if self.commit:
        args = dict(org=org, name=name, rev=rev, user=getpass.getuser(), cause=('with forced revision' if ((org, name) in self.overrides) else '(autoinc)'))
        self.check_call(['git', 'pull', '--ff-only', '--tags', 'origin', 'master'])
        self.check_call(['git', 'tag', '-a', '-m', ('Publish of %(org)s#%(name)s initiated by %(user)s %(cause)s' % args), ('%(org)s-%(name)s-%(rev)s' % args), sha])
        self.check_call(['git', 'commit', '-a', '-m', ('pants build committing publish data for push of %(org)s#%(name)s;%(rev)s' % args)])
        self.check_call(['git', 'push', 'origin', 'master', '--tags'])
