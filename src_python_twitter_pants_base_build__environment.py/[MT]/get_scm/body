def get_scm():
    'Returns the pants Scm if any.'
    global _SCM
    if (not _SCM):
        git_dir = os.path.join(get_buildroot(), '.git')
        if os.path.isdir(git_dir):
            from twitter.pants.scm.git import Git
            git = Git(worktree=get_buildroot())
            try:
                log.info(('Detected git repository on branch %s' % git.branch_name))
                set_scm(git)
            except git.LocalException:
                pass
    return _SCM
