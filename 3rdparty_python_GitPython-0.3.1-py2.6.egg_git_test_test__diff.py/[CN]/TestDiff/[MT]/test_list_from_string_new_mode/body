def test_list_from_string_new_mode(self):
    output = StringProcessAdapter(fixture('diff_new_mode'))
    diffs = Diff._index_from_patch_format(self.rorepo, output.stdout)
    self._assert_diff_format(diffs)
    assert_equal(1, len(diffs))
    assert_equal(10, len(diffs[0].diff.splitlines()))
