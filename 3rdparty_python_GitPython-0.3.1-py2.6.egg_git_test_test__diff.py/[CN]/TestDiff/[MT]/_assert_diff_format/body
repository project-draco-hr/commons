def _assert_diff_format(self, diffs):
    for diff in diffs:
        if diff.a_mode:
            assert isinstance(diff.a_mode, int)
        if diff.b_mode:
            assert isinstance(diff.b_mode, int)
        if diff.a_blob:
            assert (not diff.a_blob.path.endswith('\n'))
        if diff.b_blob:
            assert (not diff.b_blob.path.endswith('\n'))
    return diffs
