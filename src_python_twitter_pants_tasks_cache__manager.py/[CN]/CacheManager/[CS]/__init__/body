def __init__(self, cache_key_generator, build_invalidator_dir, invalidate_dependents, extra_data, only_externaldeps, logger):
    self._cache_key_generator = cache_key_generator
    self._invalidate_dependents = invalidate_dependents
    self._extra_data = pickle.dumps(extra_data)
    self._sources = (NO_SOURCES if only_externaldeps else TARGET_SOURCES)
    self._logger = logger
    self._invalidator = BuildInvalidator(build_invalidator_dir)
