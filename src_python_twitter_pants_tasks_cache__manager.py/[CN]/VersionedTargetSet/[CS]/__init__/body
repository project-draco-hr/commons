def __init__(self, cache_manager, targets, per_target_cache_keys):
    self._cache_manager = cache_manager
    self.per_target_cache_keys = per_target_cache_keys
    self.cache_key = CacheKeyGenerator.combine_cache_keys(per_target_cache_keys)
    self.num_sources = self.cache_key.num_sources
    self.valid = (not cache_manager.needs_update(self.cache_key))
    self.targets = targets
