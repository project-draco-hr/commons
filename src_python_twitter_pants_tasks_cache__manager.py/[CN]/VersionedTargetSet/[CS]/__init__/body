def __init__(self, cache_manager, versioned_targets):
    self._cache_manager = cache_manager
    self.versioned_targets = versioned_targets
    self.targets = [vt.target for vt in versioned_targets]
    self.cache_key = CacheKeyGenerator.combine_cache_keys([vt.cache_key for vt in versioned_targets])
    self.num_sources = self.cache_key.num_sources
    self.sources = self.cache_key.sources
    self.valid = (not cache_manager.needs_update(self.cache_key))
