def main():
    docs_dir = os.path.dirname(os.path.abspath(__file__))
    pants_src_dir = os.path.dirname(docs_dir)
    tasks_dir = os.path.join(pants_src_dir, 'tasks')
    with open(os.path.join(docs_dir, 'tasks.rst'), 'w') as tasks_rst:
        tasks_rst.write('\n'.join(['Tasks Reference', '===============', '', 'This page documents tasks available as part of the pants build system.', '', '']))
        for filename in sorted([filename for filename in os.listdir(tasks_dir) if filename.endswith('.py')]):
            (root, _) = os.path.splitext(filename)
            tasks_rst.write(TEMPLATE.substitute(otype='tasks', name=root))
    targets_rst = os.path.join(docs_dir, 'targets.rst')
    gen_targets_reference(targets_rst, os.path.join(pants_src_dir, 'targets'))
    gen_base_reference(os.path.join(docs_dir, 'base.rst'), os.path.join(pants_src_dir, 'base'))
