{
  if (!manifest.hasAppliedValue() && !mainClass.hasAppliedValue() && !classPath.hasAppliedValue()) {
    return null;
  }
  Manifest mf=loadManifest();
  if (mainClass.hasAppliedValue()) {
    mf.getMainAttributes().put(Name.MAIN_CLASS,mainClass.get());
  }
  if (classPath.hasAppliedValue()) {
    String classpath=CLASS_PATH_JOINER.join(FluentIterable.from(classPath.get()).transformAndConcat(ENTRY_TO_PATHS));
    mf.getMainAttributes().put(Name.CLASS_PATH,classpath);
  }
  return mf;
}
