def _addargsresources(self, jar, target):
    lines = set()
    for resourcedir in [os.path.join(classdir, RESOURCE_RELDIR) for classdir in self.classdirs]:
        if os.path.exists(resourcedir):
            for file in os.listdir(resourcedir):
                if file.startswith(RESOURCE_BASENAME):
                    with open(os.path.join(resourcedir, file)) as resource:
                        lines.update(resource.readlines())
    if lines:


        class Args(object):

            def __init__(self, context, transitive, classes_by_target):
                self.context = context
                self.classnames = set()

                def add_classnames(target):
                    if (isinstance(target, JavaLibrary) or isinstance(target, ScalaLibrary)):
                        target_products = classes_by_target.get(target)
                        if target_products:
                            for (_, classes) in target_products.rel_paths():
                                for cls in classes:
                                    self.classnames.add(cls.replace('.class', '').replace('/', '.'))
                        else:
                            self.context.log.debug(('No mapping for %s' % target))
                if transitive:
                    target.walk(add_classnames, (lambda t: t.is_internal))
                else:
                    add_classnames(target)

            def matches(self, line):
                line = line.strip()
                if (not line):
                    return False
                components = line.split(' ')
                keyname = components[0]
                if (keyname in ('positional', 'field')):
                    return (components[1] in self.classnames)
                elif (keyname == 'parser'):
                    return (components[2] in self.classnames)
                elif (keyname == 'verifier'):
                    return ((components[2] in self.classnames) and (components[3] in self.classnames))
                else:
                    return True
        self._addargs((lines if self.include_all else filter(Args(self.context, self.transitive, self.context.products.get_data('classes_by_target')).matches, lines)), jar, target)
