def classpath(self, cp=None, confs=None):
    classpath = (cp or [])
    with self.context.state('classpath', []) as cp:
        classpath.extend((jar for (conf, jar) in cp if ((not confs) or (conf in confs))))
    bases = set()
    for target in self.context.targets():
        if (isinstance(target, JvmTarget) and (is_test(target) or hasattr(target, 'resources'))):
            sibling_resources_base = os.path.join(os.path.dirname(target.target_base), 'resources')
            if (sibling_resources_base not in bases):
                sibling_resources_full_path = os.path.join(get_buildroot(), sibling_resources_base)
                if os.path.isdir(sibling_resources_full_path):
                    classpath.append(sibling_resources_full_path)
                bases.add(sibling_resources_base)
    return classpath
