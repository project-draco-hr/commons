def _pop_waiter(self, end):
    times_up = sorted((waiter for waiter in self._waiters if (waiter[0] <= end)), key=(lambda element: element[0]))
    if times_up:
        waiter = times_up[0]
        self._waiters.remove(waiter)
        return waiter
