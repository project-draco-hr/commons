def on_context_exit(self, func, *args, **kwargs):
    ' Registers a command to invoke just before this parse context is exited. It is an error to\n    attempt to register an on_context_exit action outside an active parse context.'
    if (not hasattr(self, '_on_context_exit')):
        raise ContextError('Can only register context exit actions when a parse context is active')
    if (not callable(func)):
        raise TypeError('func must be a callable object')
    self._on_context_exit.append((func, args, kwargs))
