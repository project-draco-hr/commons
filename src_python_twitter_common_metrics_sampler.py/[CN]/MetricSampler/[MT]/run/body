def run(self):
    if log:
        log.debug('Starting metric sampler.')
    while (not self._shutdown):
        time.sleep(self._period.as_(Time.SECONDS))
        new_sample = self._registry.sample()
        with self._lock:
            self._last_sample = new_sample
