{
  final Watcher nodeWatcher=new Watcher(){
    @Override public void process(    WatchedEvent event){
      if (event.getType() == Watcher.Event.EventType.NodeDataChanged || event.getType() == Watcher.Event.EventType.NodeDeleted) {
        try {
          tryWatchDataNode();
        }
 catch (        InterruptedException e) {
          LOG.log(Level.WARNING,"Interrupted while trying to watch a data node.",e);
        }
      }
    }
  }
;
  try {
    Stat stat=new Stat();
    byte[] rawData=zkClient.get().getData(nodePath,nodeWatcher,stat);
    T newData=deserializer.apply(rawData,stat);
    updateData(newData);
  }
 catch (  KeeperException.NoNodeException e) {
    updateData(NO_DATA);
    watchForExistence();
  }
}
