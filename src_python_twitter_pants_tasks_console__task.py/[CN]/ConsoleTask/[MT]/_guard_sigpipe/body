@contextmanager
def _guard_sigpipe(self):
    try:
        yield
    except IOError as e:
        if (e.errno != errno.EPIPE):
            raise e
