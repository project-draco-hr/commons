def add_scm_info(self):
    'Adds SCM-related info and returns a dict composed of just this added info.'
    scm = get_scm()
    if scm:
        revision = scm.commit_id
        tag = (scm.tag_name or 'none')
        branch = (scm.branch_name or revision)
    else:
        (revision, tag, branch) = ('none', 'none', 'none')
    return self.add_infos(('revision', revision), ('tag', tag), ('branch', branch))
