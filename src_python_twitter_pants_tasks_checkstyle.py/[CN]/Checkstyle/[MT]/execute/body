def execute(self, targets):
    if (not self.context.options.checkstyle_skip):
        with self.invalidated(filter(Checkstyle._is_checked, targets)) as invalidated:
            sources = self.calculate_sources(invalidated.invalid_targets())
            if sources:
                result = self.checkstyle(sources)
                if (result != 0):
                    raise TaskError(('%s returned %d' % (CHECKSTYLE_MAIN, result)))
