def create(self, basedir, outdir, name, prefix=None):
    zippath = os.path.join(outdir, ('%s.zip' % name))
    with open_zip(zippath, 'w', compression=ZIP_DEFLATED) as zip:
        for (root, _, files) in os.walk(basedir):
            for file in files:
                full_path = os.path.join(root, file)
                relpath = os.path.relpath(full_path, basedir)
                if prefix:
                    relpath = os.path.join(prefix, relpath)
                zip.write(full_path, relpath)
    return zippath
