def _addresses(self):
    if self.context.target_roots:
        for target in self.context.target_roots:
            yield target.address
    else:
        for buildfile in BuildFile.scan_buildfiles(self._root_dir):
            for address in Target.get_all_addresses(buildfile):
                yield address
