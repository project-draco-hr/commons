def handle_output(self, workunit, label, s):
    'Implementation of Reporter callback.'
    if os.path.exists(self._html_dir):
        path = os.path.join(self._html_dir, ('%s.%s' % (workunit.id, label)))
        if (path not in self._output_files):
            f = open(path, 'w')
            self._output_files[path] = f
        else:
            f = self._output_files[path]
        f.write(self._htmlify_text(s))
        f.flush()
