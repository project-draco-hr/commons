def _maybe_hardlink(self, src, dst):
    if os.path.exists(src):
        if os.path.exists(dst):
            if (not os.path.samefile(src, dst)):
                os.unlink(dst)
                os.link(src, dst)
        else:
            os.link(src, dst)
