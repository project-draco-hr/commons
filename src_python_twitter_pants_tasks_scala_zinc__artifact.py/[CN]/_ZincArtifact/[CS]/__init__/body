def __init__(self, factory, targets, sources_by_target, artifact_id, classes_dir, analysis_file):
    self.factory = factory
    self.targets = targets
    self.sources_by_target = sources_by_target
    self.sources = list(itertools.chain.from_iterable(sources_by_target.values()))
    self.artifact_id = artifact_id
    self.classes_dir = classes_dir
    self.analysis_file = analysis_file
    self.portable_analysis_file = ZincArtifactFactory.portable(analysis_file)
    self.relations_file = (analysis_file + '.relations')
    self.log = self.factory.context.log
