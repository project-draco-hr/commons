def main(args, options):
    if (not args):
        app.error('expected at least one ServerSet endpoint')

    def changed(endpoint, old, new):
        print ('%s changed:' % endpoint)
        print '  old:', _format_instances(old)
        print '  new:', _format_instances(new)
        print 
    print 'Watching ServerSet endpoints. Hit ^C to exit.'
    print 
    endpoints = []
    for arg in args:
        endpoints.append(ServerSetClient(arg, watcher=changed))
    while True:
        raw_input()
