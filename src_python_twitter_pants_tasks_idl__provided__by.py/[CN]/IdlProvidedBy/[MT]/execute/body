def execute(self, targets):

    def process(target):
        compiled_jar = target.provided_by
        idl_jar = target.idl_jar
        self._cleanup_target(target, compiled_jar, idl_jar)
        genmap = self.context.products.get('java').get(target)
        if genmap:
            for (_, java_targets) in genmap.items():
                for java_target in java_targets:
                    self._cleanup_target(java_target, compiled_jar, idl_jar)
    for target in targets:
        target.walk(process, predicate=(lambda target: isinstance(target, IdlJvmThriftLibrary)))
