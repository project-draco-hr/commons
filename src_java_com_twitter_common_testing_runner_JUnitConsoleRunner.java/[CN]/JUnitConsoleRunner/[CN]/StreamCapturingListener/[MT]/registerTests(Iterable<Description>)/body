{
  for (  Description test : tests) {
    registerTests(test.getChildren());
    if (Util.isRunnable(test)) {
      StreamCapture capture=captures.get(test.getTestClass());
      if (capture == null) {
        String prefix=test.getClassName();
        File out=new File(outdir,prefix + ".out.txt");
        Files.createParentDirs(out);
        File err=new File(outdir,prefix + ".err.txt");
        Files.createParentDirs(err);
        capture=new StreamCapture(out,err);
        captures.put(test.getTestClass(),capture);
      }
      capture.incrementUseCount();
    }
  }
}
