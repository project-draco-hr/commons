@staticmethod
def login(confluence_url, user=None):
    'Prompts the user to log in to confluence, and returns a Confluence object.\n\n    raises ConfluenceError if login is unsuccessful.\n    '
    server = ServerProxy((confluence_url + '/rpc/xmlrpc'))
    user = (user or getpass.getuser())
    password = getpass.getpass(('Please enter confluence password for %s: ' % user))
    try:
        return Confluence(server, confluence_url, server.confluence1.login(user, password))
    except Fault as e:
        raise ConfluenceError(('Failed to log in to %s: %s' % (confluence_url, e)))
