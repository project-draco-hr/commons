def execute(self, targets):

    def is_app(target):
        return isinstance(target, JvmApp)
    archiver = (ARCHIVER_BY_TYPE[self.archiver_type] if self.archiver_type else None)
    for app in filter(is_app, targets):
        basedir = self.bundle(app)
        if archiver:
            archivemap = self.context.products.get(self.archiver_type)
            archivepath = archiver.archive(basedir, self.outdir, app.basename)
            archivemap.add(app, self.outdir, [archivepath])
            self.context.log.info(('created %s' % os.path.relpath(archivepath, get_buildroot())))
