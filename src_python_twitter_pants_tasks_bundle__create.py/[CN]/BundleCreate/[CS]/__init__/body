def __init__(self, context):
    JvmBinaryTask.__init__(self, context)
    self.outdir = (context.options.jvm_binary_create_outdir or context.config.get('bundle-create', 'outdir'))

    def fill_archiver_type():
        self.archiver_type = context.options.bundle_create_archive
        if (not self.archiver_type):
            for archive_type in ARCHIVER_BY_TYPE.keys():
                if context.products.isrequired(archive_type):
                    self.archiver_type = archive_type
    fill_archiver_type()
    self.deployjar = context.options.jvm_binary_create_deployjar
    if (not self.deployjar):
        self.context.products.require('jars', predicate=self.is_binary)
    self.require_jar_dependencies()
