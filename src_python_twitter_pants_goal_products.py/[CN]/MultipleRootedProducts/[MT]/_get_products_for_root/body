def _get_products_for_root(self, root):
    if (root in self._rooted_products_by_root):
        ret = self._rooted_products_by_root[root]
    else:
        ret = RootedProducts(root)
        self._rooted_products_by_root[root] = ret
    return ret
