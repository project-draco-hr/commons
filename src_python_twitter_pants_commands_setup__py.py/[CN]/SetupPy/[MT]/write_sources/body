def write_sources(self, chroot):

    def write(trg, src):
        chroot.link(os.path.join(trg.target_base, src), os.path.join('src', src))
    for source in (list(self.target.sources) + list(self.target.resources)):
        write(self.target, source)
    for target in self.dependencies:
        if isinstance(target, PythonLibrary):
            for source in (list(target.sources) + list(target.resources)):
                write(target, source)
        elif isinstance(target, PythonThriftLibrary):
            print(('WARNING: Thrift libraries not yet supported: %s' % target), file=sys.stderr)
