def run_one(self, target):
    dist_dir = self._config.getdefault('pants_distdir')
    chroot = Chroot(dist_dir, name=target.provides.name)
    self.write_contents(target, chroot)
    self.write_setup(target, chroot)
    target_base = ('%s-%s' % (target.provides.name, target.provides.version))
    setup_dir = os.path.join(dist_dir, target_base)
    safe_rmtree(setup_dir)
    os.rename(chroot.path(), setup_dir)
    if (not self.options.run):
        print(('Running packager against %s' % setup_dir))
        setup_runner = Packager(setup_dir)
        tgz_name = os.path.basename(setup_runner.sdist())
        print(('Writing %s' % os.path.join(dist_dir, tgz_name)))
        os.rename(setup_runner.sdist(), os.path.join(dist_dir, tgz_name))
        safe_rmtree(setup_dir)
    else:
        print(('Running %s against %s' % (self.options.run, setup_dir)))
        setup_runner = SetupPyRunner(setup_dir, self.options.run)
        setup_runner.run()
