{
  ImmutableSet<Field> positionalFields=ImmutableSet.copyOf(filterFields(configuration.positionalInfo(),filter));
  if (positionalFields.size() > 1) {
    throw new IllegalArgumentException(String.format("Found %d fields marked for @Positional Args after applying filter - " + "only 1 is allowed:\n\t%s",positionalFields.size(),Joiner.on("\n\t").join(positionalFields)));
  }
  Iterable<PositionalInfo<?>> positionalInfos=Iterables.transform(positionalFields,TO_POSITIONALINFO);
  PositionalInfo<?> positionalInfoOrNull=Iterables.getOnlyElement(positionalInfos,null);
  Optional<? extends PositionalInfo<?>> positionalInfoOptional=Optional.fromNullable(positionalInfoOrNull);
  Iterable<? extends OptionInfo<?>> optionInfos=Iterables.transform(filterFields(configuration.optionInfo(),filter),TO_OPTIONINFO);
  return new ArgumentInfo(positionalInfoOptional,optionInfos);
}
