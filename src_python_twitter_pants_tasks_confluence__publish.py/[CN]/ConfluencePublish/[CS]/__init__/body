def __init__(self, context):
    Task.__init__(self, context)
    self.url = (context.options.confluence_publish_url or context.config.get('confluence-publish', 'url'))
    if (not self.url):
        raise TaskError(("Unable to proceed publishing to confluence. Please configure a 'url' under the 'confluence-publish' heading in pants.ini or using the %s command line option." % self.url_option))
    self.force = context.options.confluence_publish_force
    self.open = context.options.confluence_publish_open
    self.context.products.require('wiki_html')
    self._wiki = None
    self.user = context.options.confluence_user
