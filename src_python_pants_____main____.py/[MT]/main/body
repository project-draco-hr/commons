def main():
    if ('BUILD_ROOT' not in os.environ):
        exit('BUILD_ROOT environment must be defined')
    root_dir = os.path.realpath(os.environ['BUILD_ROOT'])
    if (not os.path.exists(root_dir)):
        exit(('BUILD_ROOT does not point to a valid path: %s' % root_dir))
    if ((len(sys.argv) < 2) or ((len(sys.argv) == 2) and (sys.argv[1] in _HELP_ALIASES))):
        _help(root_dir)
    (subcommand_args, subcommand_class) = _find_command_class(root_dir, sys.argv[1:])
    parser = optparse.OptionParser(version=('%%prog %s' % _VERSION))
    parser.add_option(_DISABLE_PANTS_RC_OPTION, action='store_false', dest='pantsrc', default=True, help='Specifies that ~/.pantsrc should be ignored.')
    command = subcommand_class(root_dir, parser, subcommand_args)
    result = command.execute()
    sys.exit(result)
