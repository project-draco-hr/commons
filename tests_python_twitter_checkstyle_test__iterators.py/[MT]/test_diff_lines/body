def test_diff_lines():
    blob_a = make_blob('\n    001 herp derp\n  ')
    assert (list(diff_lines(blob_a, blob_a)) == [])
    blob_b = make_blob('\n    001 derp herp\n  ')
    assert (list(diff_lines(blob_a, blob_b)) == [1])
    blob_c = make_blob('\n    001 herp derp\n    002 derp derp\n  ')
    assert (list(diff_lines(blob_a, blob_c)) == [2])
    assert (list(diff_lines(blob_c, blob_a)) == [])
    blob_d = make_blob('\n    001\n    002\n    003\n    004\n  ')
    blob_e = make_blob('\n    001\n    004\n  ')
    assert (list(diff_lines(blob_d, blob_e)) == [])
    assert (list(diff_lines(blob_e, blob_d)) == [2, 3])
    blob_f = make_blob('\n    001\n    002\n    003\n    004\n  ')
    blob_g = make_blob('\n    002\n    001\n    004\n    003\n  ')
    assert (list(diff_lines(blob_f, blob_g)) == [1, 3])
    assert (list(diff_lines(blob_g, blob_f)) == [1, 3])
