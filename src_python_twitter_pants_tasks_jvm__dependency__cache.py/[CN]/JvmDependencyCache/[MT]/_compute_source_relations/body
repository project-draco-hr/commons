def _compute_source_relations(self):
    ' Compute the targets_by_source and sources_by_target maps. '
    self.sources_by_target = defaultdict(set)
    self.targets_by_source = defaultdict(set)
    for target in self.targets:
        for src in target.sources:
            srcpath = self._normalize_source_path(target, src)
            self.sources_by_target[target].add(srcpath)
            self.targets_by_source[srcpath].add(target)
    return (self.sources_by_target, self.targets_by_source)
