def resolve(self, requirements, python=Platform.python(), platform=Platform.current()):
    requirements = maybe_requirement_list(requirements)
    env = ResolverEnvironment([d.location for d in (self._entries | self._cached_entries)], python=python, platform=platform)
    added = set()
    for dist in super(Resolver, self).resolve(requirements, env=env, installer=self.make_installer(python, platform)):
        if (dist not in self._entries):
            added.add(dist)
            self._entries.add(dist)
    return added
