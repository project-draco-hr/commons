def best_match(self, req, *ignore_args, **ignore_kwargs):
    while True:
        resolved_req = super(Resolver, self).best_match(req, self._ws)
        if resolved_req:
            return resolved_req
        if all((subcache.activated for subcache in self._subcaches)):
            print(('Failed to resolve %s, your installation may not work properly.' % req), file=sys.stderr)
            break
        else:
            for subcache in self._subcaches:
                if (not subcache.activated):
                    subcache.activate()
                    break
