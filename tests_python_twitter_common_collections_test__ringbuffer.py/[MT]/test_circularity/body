def test_circularity():
    r = RingBuffer(3)
    r.append(1)
    r.append(2)
    r.append(3)
    assert (1 in r)
    assert ((r[0], r[3], r[6], r[(-3)]) == (1, 1, 1, 1))
    r.append(4)
    assert (1 not in r)
    assert ((r[0], r[3], r[6], r[(-3)]) == (2, 2, 2, 2))
