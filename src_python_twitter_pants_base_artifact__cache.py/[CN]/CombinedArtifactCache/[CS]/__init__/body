def __init__(self, artifact_caches):
    if (not artifact_caches):
        raise Exception, 'Must provide at least one underlying artifact cache'
    context = artifact_caches[0].context
    artifact_root = artifact_caches[0].artifact_root
    if any([((x.context != context) or (x.artifact_root != artifact_root)) for x in artifact_caches]):
        raise Exception, 'Combined artifact caches must all have the same artifact root.'
    ArtifactCache.__init__(self, context, artifact_root)
    self._artifact_caches = artifact_caches
