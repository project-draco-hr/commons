def execute_task(self, config=None, args=None, targets=None, extra_targets=None):
    "Creates a new task and executes it with the given config, command line args and targets.\n\n    config:        an optional string representing the contents of a pants.ini config.\n    args:          optional list of command line flags, these should be prefixed with '--test-'.\n    targets:       optional list of Target objects passed on the command line.\n    extra_targets: optional list of extra targets in the context in addition to those passed on the\n                   command line\n    Returns the text output of the task.\n    "
    with closing(StringIO()) as output:
        task = prepare_task(self.task_type(), config=config, args=args, targets=targets, outstream=output)
        task.execute((list((targets or ())) + list((extra_targets or ()))))
        return output.getvalue()
