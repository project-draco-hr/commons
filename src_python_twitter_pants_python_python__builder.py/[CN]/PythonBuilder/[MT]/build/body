def build(self, targets, args, interpreter=None, conn_timeout=None):
    test_targets = []
    binary_targets = []
    interpreter = (interpreter or PythonInterpreter.get())
    for target in targets:
        assert target.is_python, ('PythonBuilder can only build PythonTargets, given %s' % str(target))
    if ('pylint' in args):
        real_args = list(args)
        real_args.remove('pylint')
        for target in targets:
            try:
                PythonLintBuilder([target], real_args, self._root_dir, conn_timeout=conn_timeout).run()
            except Exception as e:
                print ('Failed to run lint for %s: %s' % (target, e))
        return 0
    for target in targets:
        if (isinstance(target, PythonTests) or isinstance(target, PythonTestSuite)):
            test_targets.append(target)
        elif isinstance(target, PythonBinary):
            binary_targets.append(target)
    rv = PythonTestBuilder(test_targets, args, self._root_dir, interpreter=interpreter, conn_timeout=conn_timeout).run()
    if (rv != 0):
        return rv
    for binary_target in binary_targets:
        rv = PythonBinaryBuilder(binary_target, self._root_dir, self._run_tracker, interpreter=interpreter, conn_timeout=conn_timeout).run()
        if (rv != 0):
            return rv
    return 0
