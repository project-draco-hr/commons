def reference(self, referencing_buildfile_path=None):
    'How to reference this address in a BUILD file.'
    dirname = os.path.dirname(self.buildfile.relpath)
    if (referencing_buildfile_path and (dirname == os.path.dirname(referencing_buildfile_path))):
        return (':%s' % self.target_name)
    elif (os.path.basename(dirname) != self.target_name):
        return ('%s:%s' % (dirname, self.target_name))
    else:
        return dirname
