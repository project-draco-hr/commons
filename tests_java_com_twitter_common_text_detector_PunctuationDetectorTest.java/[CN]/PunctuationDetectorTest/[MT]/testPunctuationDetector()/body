{
  TwitterTokenStream mockStream=new RegexTokenizer.Builder().setDelimiterPattern(Pattern.compile(" ")).build();
  mockStream.reset("When I was young , I liked insects .");
  PunctuationDetector stream=new PunctuationDetector(mockStream);
  CharSequenceTermAttribute termAttr=stream.getAttribute(CharSequenceTermAttribute.class);
  TokenTypeAttribute typeAttr=stream.getAttribute(TokenTypeAttribute.class);
  int cnt=0;
  while (stream.incrementToken()) {
    String token=termAttr.getTermString();
    if (",".equals(token) || ".".equals(token)) {
      assertEquals(typeAttr.getType(),TokenType.PUNCTUATION);
    }
 else {
      assertFalse(TokenType.PUNCTUATION.equals(typeAttr.getType()));
    }
    cnt++;
  }
  assertEquals(9,cnt);
  stream.reset("???????????? ??? ?????? ?????? ??? ?????? ??? ?????? ?????? ??? ???");
  cnt=0;
  while (stream.incrementToken()) {
    if (ImmutableSet.of("[","???","???","???").contains(termAttr.getTermString())) {
      assertEquals(typeAttr.getType(),TokenType.PUNCTUATION);
    }
 else {
      assertFalse(TokenType.PUNCTUATION.equals(typeAttr.getType()));
    }
    cnt++;
  }
  assertEquals(11,cnt);
}
