def test_client_iteration(self):
    ss = ServerSet(ZooKeeper(self._server.ensemble), self.SERVICE_PATH)
    assert (list(ss) == [])
    ss.join(self.INSTANCE1)
    assert (list(ss) == [ServiceInstance(self.INSTANCE1)])
    ss.join(self.INSTANCE2)
    assert (list(ss) == [ServiceInstance(self.INSTANCE1), ServiceInstance(self.INSTANCE2)])
