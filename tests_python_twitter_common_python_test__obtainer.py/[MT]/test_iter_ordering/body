def test_iter_ordering():
    pi = PythonInterpreter.get()
    tgz = SourcePackage('psutil-0.6.1.tar.gz')
    egg = EggPackage(('psutil-0.6.1-py%s-%s.egg' % (pi.python, get_build_platform())))
    whl = WheelPackage(('psutil-0.6.1-cp%s-none-%s.whl' % (pi.python.replace('.', ''), get_build_platform().replace('-', '_').replace('.', '_').lower())))
    req = Requirement.parse('psutil')
    assert (list(FakeObtainer([tgz, egg, whl]).iter(req)) == [whl, egg, tgz])
    assert (list(FakeObtainer([egg, tgz, whl]).iter(req)) == [whl, egg, tgz])
