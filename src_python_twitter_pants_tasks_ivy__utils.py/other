from __future__ import print_function
import os
import xml
import pkgutil
import re
import threading
import errno
from collections import namedtuple, defaultdict
from contextlib import contextmanager
from twitter.common.collections import OrderedSet, maybe_list
from twitter.common.dirutil import safe_mkdir, safe_open
from twitter.pants.base.build_environment import get_buildroot
from twitter.pants.base.generator import Generator, TemplateData
from twitter.pants.base.revision import Revision
from twitter.pants.base.target import Target
from twitter.pants.ivy import Bootstrapper, Ivy
from twitter.pants.java import util
from . import TaskError
IvyModuleRef = namedtuple('IvyModuleRef', ['org', 'name', 'rev'])
IvyArtifact = namedtuple('IvyArtifact', ['path', 'classifier'])
IvyModule = namedtuple('IvyModule', ['ref', 'artifacts', 'callers'])
