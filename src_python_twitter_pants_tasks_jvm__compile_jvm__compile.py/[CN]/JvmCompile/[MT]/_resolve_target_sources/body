def _resolve_target_sources(self, target_sources, extension=None, relative_to_target_base=False):
    'Given a list of pants targets, extract their sources as a list.\n\n    Filters against the extension if given and optionally returns the paths relative to the target\n    base.\n    '
    resolved_sources = []
    for resolved in Target.resolve_all(target_sources):
        if hasattr(resolved, 'sources'):
            resolved_sources.extend(((source if relative_to_target_base else os.path.join(resolved.target_base, source)) for source in resolved.sources if ((not extension) or source.endswith(extension))))
    return resolved_sources
