def _ensure_analysis_tmpdir(self):
    if (not os.path.exists(self._analysis_tmpdir)):
        os.makedirs(self._analysis_tmpdir)
        if self._delete_scratch:
            self.context.background_worker_pool().add_shutdown_hook((lambda : safe_rmtree(self._analysis_tmpdir)))
