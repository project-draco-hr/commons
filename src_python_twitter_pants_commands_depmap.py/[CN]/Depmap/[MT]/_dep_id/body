def _dep_id(self, dependency):
    'Returns a tuple of dependency_id , is_internal_dep.'
    dep = dependency._create_template_data()
    params = dict(org=dep.org, name=dep.module, rev=dep.version, sep=self.options.separator)
    if dep.version:
        return (('%(org)s%(sep)s%(name)s%(sep)s%(rev)s' % params), False)
    else:
        return (('%(org)s%(sep)s%(name)s' % params), True)
