def console_output(self, targets):
    if (len(self.context.target_roots) == 0):
        raise TaskError('One or more target addresses are required.')
    for target in self.context.target_roots:
        if all((self._is_jvm(t) for t in target.resolve() if t.is_concrete)):
            if self.is_graph:
                for line in self._output_digraph(target):
                    yield line
            else:
                for line in self._output_dependency_tree(target):
                    yield line
        elif target.is_python:
            raise TaskError('Unsupported for Python targets')
        else:
            raise TaskError(('Unsupported for target %s' % target))
