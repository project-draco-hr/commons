def test_list_dedups(self):

    def expand(spec):
        for target in self.targets(spec):
            for tgt in target.resolve():
                if (isinstance(tgt, Target) and is_concrete(tgt)):
                    yield tgt
    targets = []
    targets.extend(expand('a/b/d/::'))
    targets.extend(expand('f::'))
    self.assertEquals(3, len(targets), 'Expected a duplicate of a/b/d/BUILD:d')
    self.assert_console_output('a/b/c/BUILD:c3', 'a/b/d/BUILD:d', targets=targets)
