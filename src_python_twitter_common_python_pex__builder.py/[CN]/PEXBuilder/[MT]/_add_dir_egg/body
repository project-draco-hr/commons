def _add_dir_egg(self, egg):
    for (root, _, files) in os.walk(egg):
        for f in files:
            filename = os.path.join(root, f)
            relpath = os.path.relpath(filename, egg)
            target = os.path.join(self._pex_info.internal_cache, os.path.basename(egg), relpath)
            self._chroot.link(filename, target)
    return CacheHelper.dir_hash(egg)
