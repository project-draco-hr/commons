def _generate_ivy(self, jars, excludes, ivyxml):
    template_data = TemplateData(org='internal', module=self.context.id, version='latest.integration', dependencies=[self._generate_jar_template(jar) for jar in jars], excludes=[self._generate_exclude_template(exclude) for exclude in excludes])
    safe_mkdir(os.path.dirname(ivyxml))
    with open(ivyxml, 'w') as output:
        generator = Generator(pkgutil.get_data(__name__, self._template_path), root_dir=get_buildroot(), lib=template_data)
        generator.write(output)
