def build_obtainer(options):
    interpreter = interpreter_from_options(options)
    platform = options.platform
    fetchers = [Fetcher(options.repos)]
    if options.pypi:
        fetchers.append(PyPIFetcher())
    translator = Translator.default(install_cache=options.cache_dir, platform=platform, interpreter=interpreter)
    obtainer = CachingObtainer(install_cache=options.cache_dir, fetchers=fetchers, translators=translator)
    return obtainer
