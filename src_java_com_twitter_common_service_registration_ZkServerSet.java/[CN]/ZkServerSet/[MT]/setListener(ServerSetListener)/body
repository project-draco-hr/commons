{
  if (this.listener != null) {
    throw new IllegalStateException("setListener() cannot be called again.");
  }
  this.listener=listener;
  boolean b=false;
  do {
    b=isConnected;
    listener.onConnect(b);
  }
 while (b != isConnected);
  listenerThread=new ListenerThread();
  listenerThread.setDaemon(true);
  listenerThread.start();
}
