def _set_cache_(self, attr):
    if (attr == 'entries'):
        lfd = LockedFD(self._file_path)
        try:
            fd = lfd.open(write=False, stream=False)
        except OSError:
            lfd.rollback()
            self.entries = dict()
            return
        allow_mmap = ((os.name != 'nt') or (sys.version_info[1] > 5))
        stream = file_contents_ro(fd, stream=True, allow_mmap=allow_mmap)
        try:
            self._deserialize(stream)
        finally:
            lfd.rollback()
    else:
        super(IndexFile, self)._set_cache_(attr)
