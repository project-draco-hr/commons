def runjava(classpath, main, args=None, jvm_args=None, **subprocess_kwargs):
    "Spawns a java process with the supplied configuration and returns its exit code.\n\n  Any extra kwargs are passed through to ``subprocess.Popen`` to control the spawned process\n  environment further,\n\n  :param list classpath: the classpath for the java program\n  :param string main: the fully qualified class name of the java program's entry point\n  :param list args: an optional sequence of args to pass to the java program\n  :param list jvm_args: an optional sequence of args for the underlying jvm\n  "
    java = SubprocessExecutor()
    return java.spawn(classpath, main, args=args, jvm_args=jvm_args, **subprocess_kwargs).wait()
