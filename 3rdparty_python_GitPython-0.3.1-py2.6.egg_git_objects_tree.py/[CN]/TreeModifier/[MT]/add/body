def add(self, sha, mode, name, force=False):
    'Add the given item to the tree. If an item with the given name already\n\t\texists, nothing will be done, but a ValueError will be raised if the \n\t\tsha and mode of the existing item do not match the one you add, unless \n\t\tforce is True\n\t\t\n\t\t:param sha: The 20 or 40 byte sha of the item to add\n\t\t:param mode: int representing the stat compatible mode of the item\n\t\t:param force: If True, an item with your name and information will overwrite\n\t\t\tany existing item with the same name, no matter which information it has\n\t\t:return: self'
    if ('/' in name):
        raise ValueError("Name must not contain '/' characters")
    if ((mode >> 12) not in Tree._map_id_to_type):
        raise ValueError(('Invalid object type according to mode %o' % mode))
    sha = to_bin_sha(sha)
    index = self._index_by_name(name)
    item = (sha, mode, name)
    if (index == (-1)):
        self._cache.append(item)
    elif force:
        self._cache[index] = item
    else:
        ex_item = self._cache[index]
        if ((ex_item[0] != sha) or (ex_item[1] != mode)):
            raise ValueError(('Item %r existed with different properties' % name))
    return self
