def record(self, tag):


    class RecordingTask(Task):

        def __init__(me, context):
            super(RecordingTask, me).__init__(context)
            self.recorded_actions.append(self.construct_action(tag))

        def execute(me, targets):
            self.recorded_actions.append(self.execute_action(tag, targets=targets))
    return RecordingTask
