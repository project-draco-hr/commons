def update_dependencies(self, dependencies):
    if dependencies:
        for dependency in dependencies:
            if hasattr(dependency, 'address'):
                self.dependency_addresses.add(dependency.address)
            for resolved_dependency in dependency.resolve():
                if (resolved_dependency.is_concrete and (not self.valid_dependency(resolved_dependency))):
                    raise TargetDefinitionException(self, ('Cannot add %s as a dependency of %s' % (resolved_dependency, self)))
                self.dependencies.add(resolved_dependency)
                if isinstance(resolved_dependency, InternalTarget):
                    self.internal_dependencies.add(resolved_dependency)
                if hasattr(resolved_dependency, '_as_jar_dependencies'):
                    self.jar_dependencies.update(resolved_dependency._as_jar_dependencies())
