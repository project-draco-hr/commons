@classmethod
def get_all_addresses(cls, buildfile):
    'Returns all of the target addresses in the specified buildfile if already parsed; otherwise,\n    parses the buildfile to find all the addresses it contains and then returns them.\n    '

    def lookup():
        if (buildfile in cls._addresses_by_buildfile):
            return cls._addresses_by_buildfile[buildfile]
        else:
            return OrderedSet()
    addresses = lookup()
    if addresses:
        return addresses
    else:
        ParseContext(buildfile).parse()
        return lookup()
