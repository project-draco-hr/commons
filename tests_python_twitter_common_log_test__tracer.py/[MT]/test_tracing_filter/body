def test_tracing_filter():
    sio = Compatibility.StringIO()
    tracer = Tracer(output=sio)
    tracer.log('hello world')
    assert (sio.getvalue() == 'hello world\n')
    sio = Compatibility.StringIO()
    tracer = Tracer(output=sio, predicate=(lambda v: (v >= 1)))
    tracer.log('hello world')
    assert (sio.getvalue() == '')
    tracer.log('hello world', V=1)
    assert (sio.getvalue() == 'hello world\n')
    tracer.log('ehrmagherd', V=2)
    assert (sio.getvalue() == 'hello world\nehrmagherd\n')
    sio = Compatibility.StringIO()
    tracer = Tracer(output=sio, predicate=(lambda v: ((v % 2) == 0)))
    tracer.log('hello world', V=0)
    assert (sio.getvalue() == 'hello world\n')
    tracer.log('morf gorf', V=1)
    assert (sio.getvalue() == 'hello world\n')
    tracer.log('ehrmagherd', V=2)
    assert (sio.getvalue() == 'hello world\nehrmagherd\n')
