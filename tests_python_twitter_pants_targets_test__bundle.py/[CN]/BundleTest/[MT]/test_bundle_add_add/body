def test_bundle_add_add(self):
    self.create_dir('src/java/org/archimedes/volume/config/stone')
    self.create_file('src/java/org/archimedes/volume/config/stone/dense.xml')
    self.create_dir('src/java/org/archimedes/volume/config')
    self.create_file('src/java/org/archimedes/volume/config/metal/dense.xml')
    self.create_target('src/java/org/archimedes/volume/BUILD', dedent("\n      jvm_app(name='volume',\n        binary=jvm_binary(name='unused'),\n        bundles=bundle(relative_to='config')\n          .add('config/stone/dense.xml')\n          .add('config/metal/dense.xml'))\n    "))
    app = self.target('src/java/org/archimedes/volume')
    for k in app.bundles[0].filemap.keys():
        if k.endswith('archimedes/volume/config/stone/dense.xml'):
            stonexml_key = k
    self.assertEquals(app.bundles[0].filemap[stonexml_key], 'stone/dense.xml')
