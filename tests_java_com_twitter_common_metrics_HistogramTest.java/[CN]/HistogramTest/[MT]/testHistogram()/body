{
  int n=10000;
  Histogram hist=new Histogram(name,new Precision(0.0001,n),metrics);
  for (int i=1; i <= n; ++i) {
    hist.add(i);
  }
  Map<String,Number> sample=metrics.sample();
  assertEquals(1L,sample.get(name + "_min"));
  assertEquals((long)n,sample.get(name + "_max"));
  long[] expected=new long[Histogram.DEFAULT_QUANTILES.length];
  for (int i=0; i < Histogram.DEFAULT_QUANTILES.length; i++) {
    expected[i]=(long)(Histogram.DEFAULT_QUANTILES[i] * n);
  }
  checkQuantiles(expected,sample);
}
