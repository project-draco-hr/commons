def build(self, target, is_meta, args):
    java_target = self._resolve_target(target, is_meta)
    extrabuildflags = set()
    workspace_root = os.path.join(self.root_dir, '.pants.d')
    if os.path.exists(workspace_root):
        shutil.rmtree(workspace_root)
    os.makedirs(workspace_root)
    buildxml = self.create_ant_builds(workspace_root, dict(), extrabuildflags, java_target)
    buildflags = []
    if extrabuildflags:
        buildflags.extend(extrabuildflags)
    if java_target.buildflags:
        buildflags.extend(java_target.buildflags)
    antargs = ['ant', '-f', ('"%s"' % buildxml)]
    if buildflags:
        antargs.extend(buildflags)
    if args:
        antargs.extend(args)
    print ('AntBuilder executing (ANT_OPTS="%s") %s' % (os.environ['ANT_OPTS'], ' '.join(antargs)))
    return subprocess.call(antargs)
