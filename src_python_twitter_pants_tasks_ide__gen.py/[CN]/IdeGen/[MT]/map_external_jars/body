def map_external_jars(self):
    external_jar_dir = os.path.join(self.work_dir, 'external-libs')
    safe_mkdir(external_jar_dir, clean=True)
    external_source_jar_dir = os.path.join(self.work_dir, 'external-libsources')
    safe_mkdir(external_source_jar_dir, clean=True)
    confs = [self.classes_conf, self.sources_conf]
    for entry in self.list_jar_dependencies(self.binary, confs=confs):
        jar = entry.get(self.classes_conf)
        if jar:
            cp_jar = os.path.join(external_jar_dir, os.path.basename(jar))
            shutil.copy(jar, cp_jar)
            cp_source_jar = None
            source_jar = entry.get(self.sources_conf)
            if source_jar:
                cp_source_jar = os.path.join(external_source_jar_dir, os.path.basename(source_jar))
                shutil.copy(source_jar, cp_source_jar)
            self._project.external_jars.add(ClasspathEntry(cp_jar, cp_source_jar))
