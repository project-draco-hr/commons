def run(self, interpreter=None, binary=None, interpreter_args=[], args=[], extra_deps=[], with_chroot=False, kill_orphans=False):
    '\n      Run the PythonEnvironment in an interpreter in a subprocess.\n    '
    cmdline = self.cmdline(interpreter, binary, interpreter_args, args)
    pythonpath = os.path.pathsep.join((p for p in self.path(extras=extra_deps)))
    with pushd((self._dir.path() if with_chroot else os.getcwd())):
        with environment_as(PYTHONPATH=pythonpath):
            PythonLauncher.debug(('With PYTHONPATH=%s, executing %s' % (pythonpath, ' '.join(cmdline))))
            po = subprocess.Popen(cmdline, preexec_fn=(os.setsid if kill_orphans else None))
            rv = (-1)
            try:
                rv = po.wait()
            finally:
                if (kill_orphans and rv):
                    self._reap_orphans(po.pid)
    return rv
