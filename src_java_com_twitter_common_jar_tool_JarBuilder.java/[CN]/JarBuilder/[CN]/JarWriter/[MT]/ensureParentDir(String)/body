{
  File file=new File(path);
  File parent=file.getParentFile();
  if (parent != null) {
    List<String> components=components(parent);
    List<String> ancestry=Lists.newArrayListWithCapacity(components.size());
    for (    String component : components) {
      ancestry.add(component);
      if (!directories.contains(ancestry)) {
        directories.add(ImmutableList.copyOf(ancestry));
        out.putNextEntry(new JarEntry(JAR_PATH_JOINER.join(ancestry) + "/"));
      }
    }
  }
}
