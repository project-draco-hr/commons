{
  final CRC32 crc32=new CRC32();
  long size=ByteStreams.readBytes(contents,new ByteProcessor<Long>(){
    private long size=0;
    @Override public boolean processBytes(    byte[] buf,    int off,    int len) throws IOException {
      size+=len;
      crc32.update(buf,off,len);
      return true;
    }
    @Override public Long getResult(){
      return size;
    }
  }
);
  entry.setSize(size);
  entry.setCompressedSize(size);
  entry.setCrc(crc32.getValue());
}
