{
  Preconditions.checkNotNull(file);
  additions.add(new EntryIndexer(){
    @Override public void execute(    final Multimap<String,ReadableEntry> entries) throws IndexingException {
      final InputSupplier<JarFile> jarSupplier=closer.register(new JarSupplier(file));
      final Source jarSource=jarSource(file);
      try {
        enumerateJarEntries(file,new ExceptionalClosure<JarEntry,IOException>(){
          @Override public void execute(          JarEntry entry) throws IOException {
            if (!entry.isDirectory() && !JarFile.MANIFEST_NAME.equals(entry.getName())) {
              NamedInputSupplier<InputStream> contents=NamedInputSupplier.create(jarSource,entry.getName(),entrySupplier(jarSupplier,entry));
              add(entries,contents,entry.getName());
            }
          }
        }
);
      }
 catch (      IOException e) {
        throw new IndexingException(file,e);
      }
    }
  }
);
  return this;
}
