{
  Preconditions.checkArgument(!file.isDirectory(),"Expected a file, given a directory: %s",file);
  MorePreconditions.checkNotBlank(jarPath);
  additions.add(new EntryIndexer(){
    @Override public void execute(    Multimap<String,ReadableEntry> entries) throws JarBuilderException {
      if (JarFile.MANIFEST_NAME.equals(jarPath)) {
        throw new JarBuilderException("A custom manifest entry should be added via the useCustomManifest methods");
      }
      NamedInputSupplier<FileInputStream> contents=NamedInputSupplier.create(fileSource(file),file.getName(),Files.newInputStreamSupplier(file));
      add(entries,contents,jarPath);
    }
  }
);
  return this;
}
