def main():
    root_dir = get_buildroot()
    version = get_version()
    if (not os.path.exists(root_dir)):
        exit_and_fail(('PANTS_BUILD_ROOT does not point to a valid path: %s' % root_dir))
    if ((len(sys.argv) < 2) or ((len(sys.argv) == 2) and (sys.argv[1] in _HELP_ALIASES))):
        _help(version, root_dir)
    (command_class, command_args) = _parse_command(root_dir, sys.argv[1:])
    parser = optparse.OptionParser(version=('%%prog %s' % version))
    parser.add_option(_DISABLE_PANTS_RC_OPTION, action='store_false', dest='pantsrc', default=True, help='Specifies that ~/.pantsrc should be ignored.')
    command = command_class(root_dir, parser, command_args)
    result = command.execute()
    sys.exit(result)
