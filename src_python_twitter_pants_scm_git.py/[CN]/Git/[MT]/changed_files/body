def changed_files(self, from_commit=None, include_untracked=False):
    uncommitted_changes = self._check_output(['diff', '--name-only', 'HEAD'], raise_type=Scm.LocalException)
    files = set(uncommitted_changes.split())
    if from_commit:
        committed_changes = self._check_output(['diff', '--name-only', ('%s...HEAD' % from_commit)], raise_type=Scm.LocalException)
        files.update(committed_changes.split())
    if include_untracked:
        untracked = self._check_output(['ls-files', '--other', '--exclude-standard'], raise_type=Scm.LocalException)
        files.update(untracked.split())
    return files
