import functools
import threading
from thrift.Thrift import TApplicationException, TMessageType
from thrift.protocol import TBinaryProtocol
from gen.twitter.finagle.thrift.ttypes import ClientId, ConnectionOptions, RequestHeader, ResponseHeader, UpgradeReply
from .trace import Trace
