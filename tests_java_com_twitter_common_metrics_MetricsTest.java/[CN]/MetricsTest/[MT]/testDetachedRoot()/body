{
  String name="foo";
  long value=10L;
  Metrics detached=Metrics.createDetached();
  Counter foo=detached.createCounter(name);
  foo.add(value);
  Number readValue=detached.sample().get(name);
  assertEquals(readValue,value);
  foo.increment();
  Number readValue2=detached.sample().get(name);
  assertEquals(readValue2,value + 1);
  assertNull(Metrics.root().sample().get(name));
}
