def assert_jar_contents(self, context, product_type, target, *contents):
    jar_mapping = context.products.get(product_type).get(target)
    self.assertEqual(1, len(jar_mapping))
    for (basedir, jars) in jar_mapping.items():
        self.assertEqual(1, len(jars))
        with open_jar(os.path.join(basedir, jars[0])) as jar:
            self.assertEqual(list(contents), jar.namelist())
            for content in contents:
                if (not content.endswith('/')):
                    with closing(jar.open(content)) as fp:
                        self.assertEqual(os.path.basename(content), fp.read())
