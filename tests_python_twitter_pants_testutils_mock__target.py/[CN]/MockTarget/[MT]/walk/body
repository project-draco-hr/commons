def walk(self, work, predicate=None):
    work(self)
    for dep in self.dependencies:
        dep.walk(work)
