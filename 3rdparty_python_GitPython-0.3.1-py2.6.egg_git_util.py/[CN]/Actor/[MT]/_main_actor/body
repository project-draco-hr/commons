@classmethod
def _main_actor(cls, env_name, env_email, config_reader=None):
    actor = Actor('', '')
    default_email = get_user_id()
    default_name = default_email.split('@')[0]
    for (attr, evar, cvar, default) in (('name', env_name, cls.conf_name, default_name), ('email', env_email, cls.conf_email, default_email)):
        try:
            setattr(actor, attr, os.environ[evar])
        except KeyError:
            if (config_reader is not None):
                setattr(actor, attr, config_reader.get_value('user', cvar, default))
            if (not getattr(actor, attr)):
                setattr(actor, attr, default)
    return actor
