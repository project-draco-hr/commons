def test_sanity_check_bytes():
    with EphemeralFile('w') as fp:
        fn = fp.name
        fp.write(struct.pack('>L', (RecordIO.SANITY_CHECK_BYTES + 1)))
        fp.write('a')
        fp.close()
        with open(fn) as fpr:
            rr = RecordReader(fpr)
            with pytest.raises(RecordIO.RecordSizeExceeded):
                rr.read()
