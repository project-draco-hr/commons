def handle_message(self, workunit, *msg_elements):
    'Implementation of Reporter callback.'
    elements = [(e if isinstance(e, basestring) else e[0]) for e in msg_elements]
    with self._lock:
        if (not self._needs_newline[workunit.id]):
            elements.insert(0, '\n')
            self._needs_newline[workunit.id] = True
    sys.stdout.write(self._prefix(workunit, ''.join(elements)))
