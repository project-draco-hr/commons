def __init__(self, root_dir, parser, argv):
    'root_dir: The root directory of the pants workspace\n    parser: an OptionParser\n    argv: the subcommand arguments to parse'
    object.__init__(self)
    self.root_dir = root_dir
    self.setup_parser(parser)

    def error(message=None):
        if message:
            print message
            print 
        parser.print_help()
        parser.exit(status=1)
    parser.error = error
    (self.options, self.args) = parser.parse_args(argv)
    self.parser = parser
