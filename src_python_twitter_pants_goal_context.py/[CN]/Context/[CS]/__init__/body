def __init__(self, config, options, run_tracker, target_roots, requested_goals=None, lock=Lock.unlocked(), log=None, target_base=None):
    self._config = config
    self._options = options
    self.run_tracker = run_tracker
    self._lock = lock
    self._log = (log or Context.Log(run_tracker))
    self._target_base = (target_base or Target)
    self._state = {}
    self._products = Products()
    self._buildroot = get_buildroot()
    self._java_home = None
    self.requested_goals = (requested_goals or [])
    self.replace_targets(target_roots)
