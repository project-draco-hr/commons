def add_target(self, target):
    'Adds a target and its transitive dependencies to the run context.\n\n    The target is not added to the target roots.\n    '

    def add_targets(tgt):
        self._targets.update(tgt.resolve())
    target.walk(add_targets)
