def dependents(self, on_predicate=None, from_predicate=None):
    'Returns  a map from targets that satisfy the from_predicate to targets they depend on that\n      satisfy the on_predicate.\n    '
    core = set(self.targets(on_predicate))
    dependees = defaultdict(set)
    for target in self.targets(from_predicate):
        if hasattr(target, 'dependencies'):
            for dependency in target.dependencies:
                if (dependency in core):
                    dependees[target].add(dependency)
    return dependees
