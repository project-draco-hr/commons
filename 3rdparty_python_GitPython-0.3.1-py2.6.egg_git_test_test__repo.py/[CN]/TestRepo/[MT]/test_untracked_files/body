def test_untracked_files(self):
    base = self.rorepo.working_tree_dir
    files = (join_path_native(base, '__test_myfile'), join_path_native(base, '__test_other_file'))
    num_recently_untracked = 0
    try:
        for fpath in files:
            fd = open(fpath, 'wb')
            fd.close()
        untracked_files = self.rorepo.untracked_files
        num_recently_untracked = len(untracked_files)
        num_test_untracked = 0
        for utfile in untracked_files:
            num_test_untracked += (join_path_native(base, utfile) in files)
        assert (len(files) == num_test_untracked)
    finally:
        for fpath in files:
            if os.path.isfile(fpath):
                os.remove(fpath)
    assert (len(self.rorepo.untracked_files) == (num_recently_untracked - len(files)))
