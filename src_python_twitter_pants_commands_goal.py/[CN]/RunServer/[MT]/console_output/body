def console_output(self, targets):
    DONE = '__done_reporting'
    port = ReportingServerManager.get_current_server_port()
    if port:
        return [('Server already running at http://localhost:%d' % port)]

    def run_server(reporting_queue):

        def report_launch(actual_port):
            reporting_queue.put(('Launching server with pid %d at http://localhost:%d' % (os.getpid(), actual_port)))

        def done_reporting():
            reporting_queue.put(DONE)
        try:
            if (not os.fork()):
                info_dir = self.context.config.getdefault('info_dir')
                template_dir = self.context.config.get('reporting', 'reports_template_dir')
                assets_dir = self.context.config.get('reporting', 'reports_assets_dir')
                settings = ReportingServer.Settings(info_dir=info_dir, template_dir=template_dir, assets_dir=assets_dir, root=get_buildroot(), allowed_clients=self.context.options.allowed_clients)
                server = ReportingServer(self.context.options.port, settings)
                actual_port = server.server_port()
                ReportingServerManager.save_current_server_port(actual_port)
                report_launch(actual_port)
                done_reporting()
                server.start()
        except socket.error:
            done_reporting()
            raise
    reporting_queue = multiprocessing.Queue()
    proc = multiprocessing.Process(target=run_server, args=[reporting_queue])
    proc.daemon = True
    proc.start()
    s = reporting_queue.get()
    ret = []
    while (s != DONE):
        ret.append(s)
        s = reporting_queue.get()
    server_port = ReportingServerManager.get_current_server_port()
    if server_port:
        binary_util.ui_open(('http://localhost:%d/run/latest' % server_port))
    return ret
