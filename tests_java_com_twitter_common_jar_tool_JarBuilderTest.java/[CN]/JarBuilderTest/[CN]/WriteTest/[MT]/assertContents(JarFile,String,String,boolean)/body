{
  Closer closer=Closer.create();
  JarEntry jarEntry=jar.getJarEntry(path);
  assertEquals(compressed ? JarEntry.DEFLATED : JarEntry.STORED,jarEntry.getMethod());
  InputStream entryIn=closer.register(jar.getInputStream(jarEntry));
  try {
    assertEquals(expectedContent,new String(ByteStreams.toByteArray(entryIn),Charsets.UTF_8));
  }
 catch (  IOException e) {
    throw closer.rethrow(e);
  }
 finally {
    closer.close();
  }
}
