{
  Listener listener=createMock(Listener.class);
  Capture<Iterable<? extends Entry>> skipped=new Capture<Iterable<? extends Entry>>();
  listener.onSkip(eq(Optional.<Entry>absent()),capture(skipped));
  replay(listener);
  jarBuilder(folder.newFile(),listener).add(content("skipped write"),"skipped/write").write(DuplicateHandler.always(DuplicateAction.THROW),Pattern.compile("skipped/"));
  assertEquals("skipped/write",Iterables.getOnlyElement(skipped.getValue()).getJarPath());
}
