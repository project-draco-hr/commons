def test_classdefs():
    newlines = Newlines(PythonFile.from_statement(GOOD_CLASS_DEF_1))
    assert (len(list(newlines.nits())) == 0)
    newlines = Newlines(PythonFile.from_statement(GOOD_CLASS_DEF_2))
    assert (len(list(newlines.nits())) == 0)
    newlines = Newlines(PythonFile.from_statement(BAD_CLASS_DEF_1))
    nits = list(newlines.nits())
    assert (len(nits) == 1)
    assert (nits[0].code == 'T301')
    assert (nits[0]._line_number == 4)
    assert (nits[0].severity == Nit.ERROR)
    newlines = Newlines(PythonFile.from_statement(BAD_CLASS_DEF_2))
    nits = list(newlines.nits())
    assert (len(nits) == 1)
    assert (nits[0].code == 'T301')
    assert (nits[0]._line_number == 7)
    assert (nits[0].severity == Nit.ERROR)
